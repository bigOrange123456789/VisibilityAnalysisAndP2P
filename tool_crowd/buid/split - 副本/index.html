<!DOCTYPE html>
<html lang="en">
<head>
    <title>静态模型处理</title>
    <meta charset="utf-8">
</head>
<body>
<script src="js/threeLib/three.js"></script>
<script src="js/threeLib/GLTFLoader.js"></script>
<script src="js/threeLib/GLTFExporter.js"></script>

<script src="js/myLib/Download.js"></script>
<script src="js/myLib/DuplicateRemoval.js"></script>
<script src="js/myLib/MaterialHandle.js"></script>
<script src="js/myLib/GlbSplit.js"></script>
<script src="js/myLib/InDe.js"></script>
<script src="js/myLib/ResourceManager.js"></script>

<script src="js/GlbHandle.js"></script>

<script>
    var name=
        prompt(
            "Please enter a file name to process:",
            "space8Old"//"ConferenceRoom"//"mymen"//"ExhibitionHall"//
        );
    new THREE.GLTFLoader().load('./in/'+name+'.glb', (glb) => {
        console.log(glb)
        new GlbHandle().process({
            name:name,glb:glb,
            cb:arr=>{


                const arr2=Array.from(new Array(100))
                for(let m of arr){
                    const id=m.name.split("_").length==2?0:m.name.split("_")[2]
                    console.log(m.name,id)
                    arr2[id]=m
                }
                return arr2
            }
        });
    });
</script>

</body>
